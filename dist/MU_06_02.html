<!DOCTYPE html>
<html lang="ko">
  <head>
    <title>법무부 - UGUARD</title>

    <meta charset="utf-8" />
    <meta name="format-detection" content="telephone=no" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- favicon -->
    <link rel="icon" href="./assets/images/common/favicon.ico" type="image/x-icon" />
    <!-- //favicon -->

    <!-- style -->
    <link type="text/css" rel="stylesheet" href="./assets/lib/SBGrid/css/SBGrid.css" />
    <link type="text/css" rel="stylesheet" href="./assets/lib/SBGrid/css/SBGrid_Default.css" />
    <link type="text/css" rel="stylesheet" href="./assets/lib/swiper/swiper.min.css" />
    <link type="text/css" rel="stylesheet" href="./assets/lib/simplebar/simplebar.css" />
    <link type="text/css" rel="stylesheet" href="./assets/lib/datetimepicker/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="./assets/lib/datetimepicker/bootstrap-datetimepicker.min.css" />
    <link type="text/css" rel="stylesheet" href="./assets/css/common.css" />
    <link type="text/css" rel="stylesheet" href="./assets/css/ui-style.css" />
    <!-- //style -->
  </head>
  <body>
    <a href="" data-layer-open="layer-off-info">휴일정보 관리</a>

    <!-- layer: 휴일정보 관리 -->
    <div class="layer-wrap layer-off-info" data-layer="layer-off-info">
      <div class="layer-container">
        <section class="ui-layer ui-layer--small">
          <div class="ui-layer__head">
            <div class="ui-layer-header">
              <h2 class="ui-layer-header__title">휴일정보 관리</h2>
              <button type="button" class="ui-button ui-layer-header__close" data-role="layerClose">
                <span class="for-a11y">레이어 닫기</span>
              </button>
            </div>
          </div>
          <div class="ui-layer__body">
            <div class="ui-layer__body-inner">
              <form action="" class="ui-layer__body-form">
                <div class="board-top">

                    <div class="board-detail-table">
                      <table style="margin-bottom:0;">
                        <colgroup>
                          <!-- 2021.10.22 : mod : 너비 값 클래스 방식으로 변경 -->
                          <col style="width:130px">
                          <col style="width:auto">
                          <!-- //2021.10.22 : mod : 너비 값 클래스 방식으로 변경 -->
                        </colgroup>
                        <tbody>
                          <tr>
                            <th scope="row">기준 월</th>
                            <td>
                              <div class="ui-input-block ui-input-block--date input-width-date">
                                <input type="text" class="ui-input js-monthpicker" title="날짜" value="2021년12월">
                              </div>
                            </td>
                          </tr>
                          <tr>
                            <th scope="row">휴일 일자</th>
                            <td class="standard"> <!-- 2022.09.30 : add : standard 클래스 추가 -->

                                
                                <div class="form-flex standard-line"> <!-- 2022.09.30 : mod : 휴일 없음 추가로 인한 html 구조 수정 -->
                                  <div class="form-flex-cell is-area-disabled">
                                    <button type="button" class="ui-button ui-basic-button ui-basic-button--normal ui-basic-button--width-61 ui-basic-button--medium rowAdd">추가</button><!-- DD :: 추가 버튼 클릭시 스크립트 하단에 있습니다. -->
                                  </div>

                                  <!-- 2022.10.07 : del : 휴일 없음 삭제 -->

                                </div>
                                
                            </td>
                          </tr>
                          
                          
                        </tbody>
                      </table>
                      
                    </div>
                    <p class="color-red font-size--12 mt-10">* 주말을 제외한 휴일일자를 지정해 주세요.</p>
          
                  </div>
              </form>
            </div>
          </div>
          <div class="ui-layer__foot">
            <div class="ui-buttons ui-buttons--right">
              <ul class="ui-buttons__list">
                <li class="ui-buttons__item">
                    <button type="button" class="ui-button ui-basic-button ui-basic-button--quaternary ui-basic-button--width-61" data-role="layerClose">취소</button>
                </li>
                <li class="ui-buttons__item">
                    <button type="button" class="ui-button ui-basic-button ui-basic-button--width-61">저장</button>
                </li>
              </ul>
            </div>
          </div>
        </section>
      </div>
    </div>
    <!-- //layer: 휴일정보 관리 -->

    <!-- script -->
    <!-- <script type="text/javascript" src="./assets/lib/SBGrid/SBGrid_custom-config.js"></script> -->
    <script type="text/javascript" src="./assets/lib/SBGrid/SBGrid_Lib.js"></script>
    <script type="text/javascript" src="./assets/lib/SBGrid/SBGrid_min.js"></script>
    <script type="text/javascript" src="./assets/lib/jquery/jquery-3.6.0.min.js"></script>
    <script type="text/javascript" src="./assets/lib/swiper/swiper.min.js"></script>
    <script type="text/javascript" src="./assets/lib/simplebar/simplebar.min.js"></script>
    <script type="text/javascript" src="./assets/lib/datetimepicker/moment-with-locales.min.js"></script>
    <script type="text/javascript" src="./assets/lib/datetimepicker/bootstrap.min.js"></script>
    <script type="text/javascript" src="./assets/lib/datetimepicker/bootstrap-datetimepicker.min.js"></script>
    <script type="text/javascript" src="./assets/lib/amcharts3/amcharts.js"></script>
    <script type="text/javascript" src="./assets/lib/amcharts3/serial.js"></script>
    <script type="text/javascript" src="./assets/lib/amcharts3/pie.js"></script>
    <script type="text/javascript" src="./assets/js/ui-script.js"></script>
    <script type="text/javascript">
      
   
      $(function () {

            // 추가 삭제 스크립트

            $(".rowAdd").on("click",function() {

            //추가 버튼 클릭시
            //  220930 : mod : 스크립트 수정
            var $plusTr = $(".standard-line");
            $.offDay = $('<div class="form-flex mt-4 week-day"><div class="form-flex-cell"><div class="ui-input-block ui-input-block--date input-width-date"><input type="text" class="ui-input js-monthpicker" title="날짜" value="2021-12-10"></div></div><div class="form-flex-cell"><button type="button" class="ui-button ui-basic-button ui-basic-button--normal ui-basic-button--width-61 ui-basic-button--medium delFile">삭제</button></div></div>')
            $plusTr.after($.offDay);

            $('.js-monthpicker').datetimepicker({
                locale: 'ko',
                viewMode: 'years',
                format: 'YYYY년 M월'
                });


            // 삭제 버튼 클릭시
            $(".delFile").on('click', function(){
                $(this).parents(".form-flex").remove();
                   // 2022.09.30 : add : 휴일이 한개도 없을 때
                  var c = $( '.week-day' ).length;
                  if(c >= 1){
                    $("#testAreaDisabledB1").attr("disabled",true); 
                  } else {
                    $("#testAreaDisabledB1").attr("disabled",false); 

                  }
            
                  
            });


            



            });
        
            
            $(".rowAdd").on('click', function(){
                  var n = $( '.week-day' ).length;
                  if(n >= 1){
                    $("#testAreaDisabledB1").attr("disabled",true); 
                  } else {
                    $("#testAreaDisabledB1").attr("disabled",false); 

                  }
            });



        // 레이어 열린 후 그리드 리사이즈
        $('.layer-off-info').on('layerAfterOpened', function () {
          var $this = $(this);
          var grid = $this.find('.ui-board-table').data('grid');

          if (grid) {
            grid.resize();
          }
        });

        uiJSLayer.open('layer-off-info'); // 퍼블리셔 테스트 소스 입니다.
      });

      // 휴일 없음 체크시
      //  220930 : mod : 스크립트 수정
      $(".ui-checkbox-block").change(function () {
            var ckItem = $(this).find("input[id='testAreaDisabledB1']");
            //var ckItemTd = ckItem.parents("tr");
            if (ckItem.prop("checked") == true) {
                $(".rowAdd").attr("disabled",true); 
                $(".week-day").hide(); 
                
                
           
                
            } else {
                $(".rowAdd").attr("disabled",false); 
                $("#testAreaDisabledB1").attr("disabled",false); 

               

                
                
            }

           
        });

        


        

       
    </script>
    <!-- //script -->
  </body>
</html>
